process DQM={



#######################################################################
                          ##  SOURCE DESCRIPTION
#######################################################################

untracked PSet maxEvents = {untracked int32 input = 50000}


source = EventStreamHttpReader
   {
       string sourceURL = 

#"http://lhc01n02.fnal.gov:50082/urn:xdaq-application:lid=29"
#"http://cmsroc9.fnal.gov:50082/urn:xdaq-application:lid=29"
"http://cmsmon:50082/urn:xdaq-application:lid=29"

       int32 max_event_size = 7000000
       int32 max_queue_depth = 5

       untracked string consumerName = "Test Consumer"
       untracked string consumerPriority = "normal"
       untracked int32 headerRetryInterval = 3  // seconds
       untracked double maxEventRequestRate = 2.5  // hertz
       untracked PSet SelectEvents = { vstring SelectEvents={"*"} }
   }


#######################################################################
                          ##  DQM SERVICES
#######################################################################

    service = ModuleWebRegistry{ }
    service = DaqMonitorROOTBackEnd{}
    service = LockService{untracked vstring labels = {"source"}}
    service = DQMShipMonitoring{
    untracked uint32 period = 5
     }
    service = MonitorDaemon {
       untracked   bool AutoInstantiate    = true
       untracked  int32 reconnect_delay    = 5
       untracked string DestinationAddress = "srv-c2d05-16"
       untracked  int32 SendPort           = 9090
       untracked  int32 UpdateDelay        = 1000
       untracked string NameAsSource       = "L1T"
    }


#######################################################################
                          ##  DQM SOURCES
#######################################################################

include "DQM/L1TMonitor/data/L1TMonitor.cff"
include "DQM/L1TMonitorClient/data/L1TMonitorClient.cff"

#    module l1TMuonClient = L1TMuonClient{
#        untracked bool saveOutput = true
#        untracked bool Standalone = false
#        untracked string outputFile = "L1TMuonClient.root"
#        untracked string ptTestName = "dttfPTinRange"
#        untracked string phiTestName = "dttfPhiTest"
#        untracked string qualityTestName = "dttfQualityInRange"    
#	}

// Message Logger service
//include "FWCore/MessageService/data/MessageLogger.cfi"
    // uncomment / comment messages with DEBUG mode to run in DEBUG mode
service = MessageLogger {

        untracked vstring destinations =  {"testGt_Unpacker"}
        untracked PSet testGt_Unpacker = { 
          untracked string threshold = "DEBUG"                  // DEBUG mode 
          untracked PSet DEBUG = { untracked int32 limit = -1}  // DEBUG mode, all messages  
//        untracked PSet DEBUG = { untracked int32 limit = 10}  // DEBUG mode, max 10 messages  
          untracked PSet INFO = { untracked int32 limit = -1}    
        }
        untracked vstring debugModules = { "l1GtUnpack"}  // DEBUG mode      
    }


//path specification
#     path p ={l1tmonitor,l1TMuonClient}
#     path p ={l1tmonitor,l1tmonitorClient}
     path p ={l1tmonitorClient}

} 
